<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e7db66967f4def3936565e4eff8ebfe96203134ffa4d134e6e1247074bc0f1c21de9e54fb84ea086a0143b17c11d09d730ca25445d3976f68885738a29234795aec513de14ae2cd3b40f80821707ba19458e123edc12ecdac55e6740867f5f9022f6aececf72fa01383e475170ae2ef3449fd328bb4955d87fb4bfe855c60595c377b2dbb388ac77fded09c57058757af3f9d883fd336c252dda62030dc1c5f7bb9574d06923839a9a30ac8f43f97930bd5216db889155b9588c80f39e9fa5df76d6cf7296422fa440b93517498e5e5251dfcfa7d56be27bee333a84149075d3ce03f0021e89dbb911271fac3ea29c767835a68d9559d03b7456b1042b99b53dabfa95dc92ada679d9e34ce7c6a20a8a72b9cde3afbad011ce18e8d55e839b677eea8529208dcac912471a82f0023ca29a97de74e879559788502b9169a9b4b0e64893ef3e6b78548304d64f92309206d4e1a11648a9f58029a5e938134aa0497a88f022b0fcf8138ba50647489c0410740f38b8f6137f407062c148fc4ac291852b642417c9b157e74226d5051f67940bc6101db8d5f903bd4a982c80e507ceb748b3450ec68cc1b66b07b5d280ead52f6ad752575efeb6e55cad32890ced113cf15484b0903da0439ca44e4d95c4b6e344990788a6104aa900979dd6e977e0604f80cf176c7783370ff5c1802f882d1130306e44c147d59031b7c58d733bf225e7b40ba89f0193365bc00c485add1b550869ad1bbe58ff9e4669091762cbb2248f04c0ca857058be6e5ccf1eaedb00f95460cbee1cdb9a30a662f5a7ed222a97599ebe23e90fe346a27a879fd34ef8ab99b660611a780222a5a5f097bab15aeb1e3ee28905a6fb5e503016d558a23716833bd54d98bbb0e0bd1f5062e0d04c2a71eb6360a672a2b91d7174b534e49a796631bf2a82721df2f89f72500096a2fdcd60915c246b57a4723c46b9d17053a24b50e28762ccf63b97679aecd1ba832c62445b6557e11bf4e1cbc34bc4e6e732197b013d3689998da14513c63bfda835c026567bd928556a9ab08a2987a1595e3795ed5838d86603cb8576221d472b992e86728f3bfe0a3231adf6b7b98bc636a14faec205e2dcf1e00646554d6ff0442f001d5a931f4bbc804d72718aaa9348edf5626d7bb9e3e54a317d842aee66085d14bcf70590ca63e806735528fb6c930da6b5b2c453729031d6e6e5bad0a32d8a3154a7f387d79f7e24b7e9e3bf069889a56c6df6e7e223040230c93be18cd216410fef30a936d729dffdf5ba8731bf85861869b5ed70eb6c81ab695d5ce759ec0ef2a1745fbb673474846cd363cfd5213aed577d675de5371e997d2eb60119bcc002e0b1b097d3be87ba2e8221e3ab9d3b9a0ef929cc5d069456405ec41d3e5802c83a9e2c7b567c2c2b5c24a65f5e8c43871067a93cec8882c8d7c12cf2ebc43ef7e58895e4aca308ac008c623b092391485822da7eacb9088c7fd0a6d90de05b9e25a765a8aaf2601181cdbbe7d0c174e368b0d94a82db41f95e391f8a993409077614608650b90149e96bf89bc26ab94d6770665c17a485da7dc8b90c4f3175df4fec2fab66652bf3cd81140233867217111221939a5eafeec70faa7ae53018c9dd0952a75676f0717234ef090900c389c85467f9fe001ffb8383f927cc54c9ec67aacb51f7000430ccd84690bd21c9bde9798c07788a3428b96e1c60160bbaaa1ae9b1f4dc208c28e1171376f0a4a359c21796cade39775ce67db8d9e260fc25bce76a36ee6855f10f23a650e339735495571f8e8912347f36a379d687b0e31ebd6ae84722f263d000f841c56c2dd2ca1507ac35063ec46d5fba1f8a6907cd591ba4904ef599a2f09345181b3fd66f3baa1bcfa3c43a7780494f7bb6f7c4194843168866b04b2a79ffcad3c849b61a95781911f3411d8b5a82e1f5ee18a8172ac3cd6ca9c433c7943fc68b549b7c9ae3f8396908e39da4d0c7ecdd2ec806ff9dda402963fd2f87050f637af68c271bcbafd7bbd54c0b4b99149c5da2d4942c8812f01486060bcff99da6bf550e2d21cb2b9b353a497e5dae680151b4ed82868062cd4335700299e45766b38aec61c0e8cb09e16ec682b8f483d7d6f146439ba5de13a5975bc74c3c8ede2f0b644042991f1a7886b21926cbfe8f6474e2d9b0fff16f284ef8409f30b5fc861e95f7e1a9e77392664c13112b9080f6aaee7e71e18d1ed9732ecea370dc27d21d3f17b39609d6cca54ee5f5994eadaf902049a14a6d15df4417785f17da7f09e5a273d7341e95dbb91c0e406df21dc774b0769e00f8a66bc9336d3f674cb8bb932e9a98abee6e9bd53061c3cf534119b4fa14d1b39ee823655e06496b62089145fce11bb5f842278b6edd081c7b64607c7659dfa295797a70a71ff99378f549577ac6841a29ca0fafec791cdc913eaf2da53b7e87acd6965a6148de4aa717a220fe75c186cd0c60b1f2bbe59c2ec38e1d0ab056c8256097712d0c61e06ab0dd7c58d2042966d50d36e82bf5e5452d1f2d446b983fb744e7ba5e372753f4bb2ed4a0080b3b7e56567d5b9429e377d09f65711cf7472b0a774faa8c9d43b24297ffaaf6d43a210d49fbd53eb730d2bba52eb2f87e04367c7b286b90c5003060062f4001a52c8b5f845c6301db6519002618102432950ff454385aec168512dfae9bb107fb296ba24f145194160d286e6399627b25244d7bf595d399f3dea8970ba44adac45308146a968ab965b1538229465834388b3e1a7fef801c9bfce0c165f73678b120c01136d2e989dbf9223975cbeb57c5afb3b70223121220b329dbe4bd38b5a398d6646cf2d6c9a03d7500fc95555e08573c6c91897f07526a641426d09c312ab146e807ccc5fb5cb49204593ae47bf95dea0f1f28196ae519064bde943529e2b9227fea66ea42ccdbe76702f60bec802bb4e33993f942b0c4f382a1bb83c1d1d3ad8f9b3975e4a76c7b0bff16176d2942225a97c0fd26dc735804f72f73d9a10fd5de28b45893b3cf53826d0a5a808061a1b23e5b693917cc421ba823567a979c5c5dc6e59ec88abe0f5c06bbb2255a93ccc0c8e824635d1c9d60242fa8f5dbccd67be1763759073289765ab80b2f34b68fb1b76bb2bdf1f830d9f592905293c72d3fd1898a3d3897721663d188729da13abb7154d0630d04dd8faa28436b68d6113b07ea06d9ecb5afd913a5ef4e82571a87ac382b4f568fb1385988a99b7fcbefaa25526710cdb5be5f0054b7bd4880d88420cd78d3ea1d7a9b4556dd368aace614050ef4604a730d003fbd241482346d345f0bb3be4017145e23ef14b2d2cb6f09b703be37e9f73eb0bdcb0f82e68753627253648d8b8b52d2c75f131a9e4f32b4aeada81bd94529b027843be195c8e2316a287ab988614ea81367dca615765e0955a56e0595f163e80c8d3df7185c3a959b327f2b8d4bd0f0c2fabebb640ff442a48f3d8f35448aa5a079de5b8f1d264b3f6fc60b30c5bcb973117ddcd2e35ff45812c67bf3e8c0c1dc5ec18a441c1dc878392da34b581974e6d814684b7e6d186666f61e81d81006447ab991405cfe1cd0454083a2aab01e716725b75cf2a07144a6fcc2cca0e9b117bb14a7193c47a5400d0a59431e5cacff2a4616f6ecce761aeadefc4c59362249173f95544ff88d99543041785ec3a100a757304774e7675a7bcd1a86a1585dfd09eb7c73f950108d040fc961a71556b9daa0e6ceadf3cdf5e382590760d622746f1ef9fdddf39847038bd17411237f16049dae4595d5b4e1827d363e54e7f3e2627d9ef45be4dce8dee2dc8ae218bc9ad4e46c0ba47fef4130ff2783f20e9f99d364b32472b7947fba8b4141341041ef9a0a0e6e09b8726ef28328823a852cfcaedaaf30f0d578eac43ea4b8132042a066034662549b0c67367a327f3633ba8ab809dfd0968b977ca92e463c64a6bf507677e7c66553c7086ffb258f8e0ea701037a253e9b6892dd4ded48531774235c36fad1d001123742414745ac1a9de6cddcaea98ce803cb347c0db7f8e159794d7aa14cc5496cb115031b2135de42db1c434d88b200e5cbcbad97f2af0487600c22575e25c752ec14ab81197ed91c5f476726b5f93498b530330420a49b8c7e0b295cea76387eb889ddd57e805a34a84cb99fd158b0f0579857c76766f646c506c016159a3e60acc0110244c6ca780364466660dd4b68d801c7c5679993f20b30d456edff6de9249d153af9d9a8b747cf436c4b4531b9d4045a9df7a2b4b18438e22dc7b8a3c0e6ca3a41c5fe68b2b5e6abec922117236f106d1ac440fdb05115c2f8f5fa139d9a2a66e08cb7f4fea82566cce7c219f54ecb9bd239fdd0443e2e3f58918bacb46a5b0703e8f49755e9cc4a3ec446d36c191e319f2595a5a1673c522549472b9da44ef0b782b901e75002c9bb6a5082e17c2876a97809dda0e1a6a47f7d64f82b431a8291890a85cfc0bacbf2dd160e6eca8883f6301ad399ad75571480bfcfc77e109d301daf28dd2af62669fdc21de77918453dcffa10d96da0b6e83c92f462ade6184fa618be3ea62626f7ec4cdfd6f693733b615e511a32138b7fe7f0a0518bceda263978ac939915369c3b6a04a33e85c940cca27bd014d198bbd6e1d53631f4d4ac1baf84f0fe234cb2d2d4a7c38dcf94f5399c4acebb9d29c823fc1973893d1b46e263a9a7de1643fb1c27250747eb9069c41722234aacf879d7709d3e28213a3ae43e02e5189cec8b18ba301ffbe8561e6e811c8f3c666a8df6f8517e678cf8f4c7a7a00eabda59c7267a44e6d98ae48baf806a7d7de6de3d04dbc6429fc7ac72d3af4671464131dfdce1f1c1a7bbf1b44cb2b670dbce7785917e464a9f4d319a93d8ed4162c959e6891fb776a297fdc07b6b555168c9d78c1a60ab77f43e83eaa7b13da4b978352f8c2f6334d10a93a17299ed859cc6eeaa131f9ae9587f8df546ea818165a3b8826a79716954f238cbef0bf4d19b488083130ec82628567761eee86a76fbe9122d73fe50ef51fe0ea7af6c1a2554f782f90f8286ba20e433f4e3c8d390926c5acc442f03a0932b08cefff48aa7e067cade75eadf776132c0ed8f89c964884ce046a01719653320c5424719f914a2e2bb49162702e6b9bb66daec9c4eed34aa2a5c8c2c27e58f0f99a5929321c8f59a47fdb2face1555ea0b3f9ab90ce732e9ae14c84f0779562b9030267effb9ed1a38cde5aa08beea496b7a2bd2cb39b091b4cd52514887a0ffaa0579ec43ec810ec04e6b8ccba7e3f1d3674fdae7b8b55ac8d19a2e88edc1d8efc605f38f4d362b38cfbdcdf05bfee6a2ee6a5fc3bf5232c2712ff69c2a77362435ea4163d65fb2d5110703fbdbf35c95232a241246fa59833094c6addc49664c6d133880512893a18204b2b7ae712c4a9c3f4a43bc8a07b3dc5373a766881e73d3031be739aec4ca819b3917a61f7a1732bbfa454e3a25838b0392f5e5ce1853b3aac66e2c0557d2cc46f5f9139f9aaf678b51362c931bf3272fb0ed24f2f135f1b66d30c00119017846e9817fe5029d36404f6e7e9725cc6e02dc5c2284acc47567771b19f5bbe54a46a26a17956a7bdc2fe418e281f18c860f56932ea02ae8575e97d7b04412422efd7be85a0e8a8454d9f97fcb3a3eeea05b23ecca25e019488db0d4a05c45415b0975f4c84036b5aa8ab707ae92d08f748c138d5c4e0befae6a7e7aafdaad720e3d8c25bcbb8cef65b70dd9cc0439ad08f3de40842b9032aab45c01e2abff847ae8d85797c69b1aeed091cc6b79bb20cda578dca321efd35e880f07cf1b53f9d976993ad363891a307435cf3c45a96da8f5c7da4e7f657fbf5bf8ce214d2cf5b3f09705adc9a912ce1fd5770a85443b6837880802889281746cd69a7f955580f37070666e895c3434ab0f00a109eb38d8124bd1d48f4f0c1e8b72c927b12bc33854c0c2f65d071c14de75be15f27ac019006cdba6b63f50fed87d771cada3c19c5db64a3b7c425deb18f70abaaa5fcf0b435d6faf5eb9bb8c67e7847c7d59803f2589ec95232f14d7775998776dd3e210461a638e22c3fb76200291d04059ad8e610a4a312fa126443d1a6c6ff0e67df9c5a2bf7c2ee1d815765481b3e5ec562098e8ca66a9c5d8481eddceb58f93bb6495bcf36aad9902158515c9c6d7b98abaefc05fd68badfbcac8f57a9b4f3459b7a003ef34861a61f4327efc3334ac6e4bb17b4f7a9d5a4c6de976d6eafa050c75cf7c9c195a64c3906c853a852ffa64e5946fd5b04194a778224361cb802fb8a3e2c730a2364aab25da4984989b3f3d73c37dc2e5e68d3326b1d228ca87a411d3892b816d11fed4930db5a364459a91022dad23f9d0de9a1d8580d0a2ed994bd74542b3b6779c4e68889a2014a2dc8df3acd677a8d7316eeea8d148b7031f1d9822cad7a199dd413563ca9ac758f9e1c55cf831bf422feb5d25c9307410a1950b96d7e2f0e82f671b841ff406464614ea1d36be02627ae9fe5b89afcb6c6f74bc77a9a522b901cd8790be50bb2cb8c3e7075a96eca940a12cc22cfe83bf6dc62abfc851bc14a73fac51f7a31a4ff4aec7e48434dc6df974afcde3e47786c460bfbd5f03b2e5c6e63b081697ccab0333974a6b99a31efb90c9c2dd147bd02a640cf30c62bba51703c8422fdcdb80b437c6b5cb53f68d4a0840980d7bc888e5601ad6b9f022ffaf8f5c8d6199c82a25a6845ff5b0899e5b43fcf2c069505da626af2b05d2bd258606ff36262f2b88866c638c0c9256eeb72df08d8390bbc98c3d8790623e761602ee372d149af7a0a47e345ef775f5639751f6256f2c2f03ca2a275857bcef861ef955c44fbb51fa7eee930f350241072aebe39d0db9c4c945ebfe6942694a7f2487375f2a21a5f7a2fc0976a04498fe9714358ae97c36ed2764094fdef03d234c53aa946237c0880220cae9f2ee802a77fa2c2856de839dda8b78b3385dbc4d16d2290e0187301fa2d4332b54f5f039e97cbc733bf87a0a6e71a06eb98caf969acfa42016d1022e120e5e8a519746b4da6b4d04fa524ae484631e6167a5e6fc02ffe4e69df4368f5d3669553be7521f954c8d375d244f6631984c08b8da1944f0adce4961d913fcb38e9154f67f3a9240a70cddf49148b8edf6af0765f368fcdd4226ceb262be1dbf12ffb9c950f76ea185c90a2268f85b08ea78cbfd6ad61a9ffa0ceed7cd401d6a51d8c203b376ce961d95544e51cc59da0107f02acb07e3ed4f08966e570d2d1ad031ffdbff0e5993c764ae19c09587910605e1f43ae7ac27aabe7b9a2042c460c171062d871088d413e3e26b1f7e60d74bdea0f6b4485f3771ea796f7dd8e64489b198ec219cab7dc802a0b0cf39db659cb058bf42fe17cc00e7a477ab9cb8084c276d2db3cc4e29e0ffdc1dd546191b30b57baa99908c16712da36fb32f6be9b3e718d2f1808a64e60c68a1ea1a8ee41c6562da0373d3b714a8a09eaa4c804d2f14796d7d5fdcb267dc02f0722bda967edb6e820eee8d3cd757faa02c1fc02a05d3dcd280b51254d7ec4c9294a8d6abe899abc3ca0298f807abde8e7fb989cc581c2dfd90d8a9bdb0df96843b93811ff05f85eb04886251dc8fda8388e42f40a00f80af406aca168aa998323ef923dcc1adc30eded886a486982173967c06c59a13a6b22e3e94c73a4d890dff6cf3ffd3c64ddcdb359e54fa2b0da9f15108e0ad4354dfe9a5ed6267473aeb5d014e9fe139f42bb19d0a5b8b114600934f08561124c305f9af31c7060b71a459efb46d0e79f96d4a0147475c7c43b586033a9754eb0792c823382557d7d9f704ea25883c9512fce6545875dc5dc4bca6d9a81371d88d28026304a820f7f5abd3007b3449c76abaac3ffab4382794ac492ad3bff32aa2dfaea742aad5025c715d32ceb02ce8f859ff74a00af81b19073e4dd395467bb9555cb5881e0b8c878fb05772455b7289c308fc150429c0b64c39218028b05816b06abfc89b75af90abb3b73f82114090a54fe7c87abd1fb5d83d764d76b2f22991e6b9f8d17b19d94910fca4b8b01cd2c8db42a77a47b2c1cdbf6547d49a911e439df95d941e7e8114bc18ed6546be4b7e4b44ae23cf27b9772c84e99c9c137cd8b1759d79d81d95e8f3861aba9e353f52def0e90723eb6e8fa310c4d780fb04bc263649acc4fe8e8a2a470a0692b8a2064e1356515951fb678d780ac7036f00172652ca111081d008e6ef1989e37860a9512691bbf7a7564631e43454ddd5f36f7bede8ec280544303372fc1ba776ec7d1e50da70baa5e854adf0f2979346e102f3b7861c7e121d6d4eb5e3653d35c15533790fdea7a7da21a7957003459cd1672a3fe8f9c5265edb605290d399df14352e3ebfbbf4105e65e9499ed95ba0a5042ae844d92481f0ede22e22920936ad47cf610bd781677d41ac70e14c62c5c29df25503b4178b3a4f0774a2c3c70f7e1f0753f098d5c7c55284b8bd1b78750495100832b6f2b160177e1488dc6c295309960c80f10b94edf513ab1141aab7494d90684491e36a3fcf783c1dc5e908813dc23ee1811e97f0423c9360e627f086c03dc699d361ee9e55fb1d8688c9e37830c32869f547bc1fbf47e156d36d056da1d6ce36ed9372ae29ec9ab68e51ae4da2b6f8d4b0e51f07a00780ee895af62d79de716596bdcad392aacd4832559edb0b08e0b8452e2cd9ecc983c250ac6c86821c1542579fbac8d961f78e95c8dc32a3a6cbff189e9f56b587fcfa11fced09f351f88a167a15a6800f558c0c7541696081bb32fc04bcd46d123005acc2b4445df7d3afdda036592eea3517bbc59ab9d73387397bdfbffb13d4170d73a938e34e0bde8705e294cf3e9b4da7c4743f17ab27ea30cfdc9be01e289f88f56cb3deb35ca5d2c038cfdc6174831dc000a59ccb4b172f92d048164e3861c04964cb52f9ae98d835123f36c77380661700a3efe7db0a76be8b4f13873de6b60a3bd762ea2918e0f6be634a6e7759a8e9eca06bce31f3171673d73b2c722ff223e9a47aad3debd95d77fa1d4bdc27cbf27d9195064c81ce8bac9210aacbb75716c9267e49547d6d16859f8df8c3bb4f900617d8e529c2613e84c800a64194e250f903cb1b3754ba05cd827d0d5b857c2a15527317173749959661ef43c869c72496ab43bc61aa9fddaeb28f772ffec71c84b667f6f28c1aa8b91bf6d8bcb2b6493ca3a5a6391de779560e4a8fa3b36ef9b0ecbe643c36901b5e59794b93f68449ea7018a3a786e9212b517652464d1e2537c7964ad842b34d09021e7fbc1f1029fab66f842e9052e91b48fd648fc0783738b88d82df114dc5316174c8279378811493595819ca8630050bac4c16ddfdf68685877f1fa90e2d8bcdc578de3af13674202b23d7a6533bd8b0e84b7d415441c51b70ab6fa6ec900bc8aa8c249ae6211afca87c810e78f14b23f71b41c2c28c3a84ae58a93cf4bd5fe4a4e89736feb66c650d736fca296580b4960ad77419bce777db0852a387b6b2e56be60ceb661dd87d58fcba767a42dd79814cb923db2524f16b2b037b08ebb53d38c0b797e30b9cc9cea4311c015b9a87f7df6ea37cce1ce0a7f01c3f605715083c694fbb4050a72ecd2ea997fd6aefa704bf0468c7dffa86893c080b96a943922cc72976887388550d2470d3d0766f1db4294063ab74d3a67aa96d0f197415306cebcb4e18e51e44e7ddd5c18ae5354ff9f298bd22e0b7e73709c51da093e42dcba8ec94c759eb449a9ceebbe82ad2979e508331a85b83d177fd02946ef25a5e6c252606d4f34691e55710cbf597b256e48003a061d7da0a8c88b5c52f8302857da62f20e803c3b865c71e04073c5a65e19a982e673c97e5a6281bced5a654dcff34b05778fbc2b109b49300b3780e0f528dbafe14de3f2fe27554ee30bf84365f66b885b26a407201fa570628bdeee41325052144445b4b3f005226143c53c8d4758fe922f14c9105e5baa88743546bc7a26a76cd0f46ab5a4532740c3cea5e9cd188bf523becf93345c32dbb8ed8a89d82e045db9cea8970469aaf2f49ae87724e1348e2f106e22d80a95917796e65a46a855002da2be292be19afdd2d317be6331efdbadd5552943357e8b9b46a980db6c752f50f83dbdb6127182ff5a8b0e23c281e1f0ac3ce1b4b00c1e057b63d64fb17d1a9f99307035070b17d93653085cf07dc3e3ca2876f85720a0f1392d1c509292a98615fd8a564e8733156a682e1b7acc169bec048624e3d7f08f06098673858d3919b05178a8327dbca3cf44e59c50ffe8672dd8ee14038e6204e94a96121b9eb857ac19ab843b4c21be063f2ee4eeded83f85f9af2ab6be8d91a0ddd86dcda717e7786464eea2658557c9de6c1696b54dfc3c91c96b4b9e26b469cced76a49d851f93d16da64b1dc365a62890f1979a8a185b6536b4de2ec5630c3b1593b491bfa5c607f76f74dd9906d50f4c9270023974d0994523d1f0ef8729993470e5e9aefd638c8635eb5ada374e192688745062add28ae4b3536d4ed0a85524a0113b89aeff13b34b6e08d98ae16548e83640a9f449bb136f11061df70be9c850aba5da8de15d7c09640fa8fe7d88e2585c15b1b4852db6da42a1f79eb29c09c78cd8a4bbedab578143e524e6cebf23ee941aab2253e4dbea6ee4f010fdd20fa90a9461a433f91715551357eb2eaeeea463465a84472db3e8f9f392ae0e91bdefded508400923b23c10ae76a6827b3913df35d6143fbd22d84b876749b7fc3a075613f16124aec5403d6a5ffc97b48b11e5726b7d77624ebd930085ac2dbb0e25449ce5ab37f6d2fffea8b0d209d9245074f5d068a6993f5ab416794b7d5d1ddc4cc6e145611fafb104e007475110825ac7d46825f9604e95f23c60782f5310406ae4c5a5e0467523f109df1e777369bf347f58eca92b8f4023b32656698a4cb4d87ac9a51ed787523466de5669556bfe6d96d0a2714cf70cab209f85f88d8731599cf927ffe43de2bfe36f973014a5154376aa73572a82e1a79efd0365040b4ee258b0d802582ccbdae3d50759d0a9a238692e805fc217f5d545d475c0ac587dfe4d75092de1983c5e883c0bef6c75022baaf936027620531749547e18cc94bf4d16f9ae6aa76328598aa8da03d53dcc6fe53ff47b9914d2b99f2d74ec283e893df229f6ae9d5db5d40bb8fdb389f6fd8e0ebfc860c02092d8c89cb4f67ba95ad65fad0e52b7618f46a415fa35d783ef22189f2c2c34e90c86e0e0415e3bd2f6ed7e8b1721c7249831c939b64e19adec6d476c7e5f28644c87d1bc00ab309ba1b60482a2541c5f308e3cf9c88ec599330d0cfcb95a135b92889565c04e07fbf4be5a9dbbdfd59a2dc35ccaf031f45a807517e000c9296924413541699da59c8831c56c12426f21dbf3fe0d5bef034142ff9420c194af3073aa24c407c3628793115b96ff025ff9560d96be6cfb18223e351b1533bc026deb757a0f779c83a4d267b6646d554a088954d197518e3325d2e51ab6e0c15f0299b45eeaaf66cdfbd771688216080470c374e4ec9231d4d745663ec74c62373943a72a9afc1ecf5cd0fc7dd193650002b6f39d7336f593ed5f1670a3620eae1e365748b162a7e7aea49852c63207cc8da1d3dc18f9e3e330de18c6c20988356c2bda6d59a72f73b846992e44afc95cbaff5c27bda5cae9bfeeddc6287ebc3a780faeb72e1b21dc22673d5a3170a3c6ded8ff1ea74e557982ab15c2291cd0537ced1c39a2ee805fec90d629416935644aa3231c68852cf5f5f7c4849ef07225bbcae397db2d22369dc4463c64ba70d44e7115b2cee0eb13550c9237541515d274c80f3b437e5d38f07b1eaa4fdf0045b972d693bbfde376805cc9afb827339f5931ff0d8102e1284302f86a1f0b4b60fe732442c6e966d4f9c4ae684047a536586933e02d1dacc9a05e405d45a323bfe464567f3aecdc3a139810dd0c54d58eccbcfb5fef2bcbe927092c2df57254d30842c0103bfddcbaa4d1c4ea51c046175ba657fa1b1cb0b075d1cba3f108de72993c5c42187acf46c36979578bf42c385dec69aeb650defc6594e94f06b34cc1857d80929be0e45307e80aba277ddfe735ae4caa1ec53c4dc30423f73de5d148b02fe75358fd76c74d2a77aaef9e985da4e098b160db13af5862fc96856a5957bdbbed563ddea11ff81ac9ff252191e894fd0283ad515bd1f18044d2dde0f8d7460000a618ead9dec027925976167ed43e45fe0d2551686c7d567fca7afe1b1e9a5920b9691c263215207ae4d6ad6297add97a09f63afac60344cc2eccc6ff3632602fc459c7738c1a9b0a5fc7352f236890e4041a6980119344149127e7826bc9d04e0bea8bca6fc56bc2ae26a738b3c6c659eca8ebf510f355186a35aeb69ccf3daa2c4ea497d0f20dd62408e973ff4dae72f3ae10c7d561700cc173b1af615f82ce82d114d39859ee37996a473f3d1fdc317b71176efb48e79c2f94af3ee50391d36bc4a760da871d619d9c31ad1c9c426849ff80bf2562a23bcdfbc36120908aecd1e0d3e48c2de78800d73b61d62ef6e8cc4cb2f32ff6e58fa1d4899595133e34ef24cdfc2f60e32011b1d23d42d2e3e5d044b92f4af509617bce86cabec658c6a882166bfb2a0a696856b550485af9a730f45b67b3a3e6a9e2c3462c6768761450ad378f56565563a52a084691c52634b3ea105942296ea9bd365230854696f73d60300919bda1e453b53f709b3ff17e727422758d7016f8bbeaba03d20689c7d8a88a2e4825bf13e51c9d5d05a69bef7dfdc73a755ac2742d229342a069530d53377008d96a2e66a6c01ac616f771b044e7191c59e1a6d9e65253be2e2208c8d86b7a4738fbae92977ce0281c1879527e0251dbdb217ec7549b837454f270bf9d8af490fd60ff3967d02ad25d4b174018b7aa458c9a698a6edd1df4909c9c1fc71dbcbf9ff2e958954ae8cfc3d3b9da9372e2c20ec8d450d994cd05b52888973c77239ff395da6951f5616136da810c5e029f2694e96a3eb81dfa28fbdfd2d728ea7355bc29376a7073e6d850d89390069b5807cf84a2a0cdde6ef6e5229b5f91650ffd09c401306446156d51446ec99224c8fbfc3eb0b9bf1b26df527397200535b8962ffa49e3117fe24a692e89acb78b1c6bfd1a681262b12ae60a93dd7a19d22e0b00c4f67096f64642bd355976c390f438adeb5a506f615ab1ddfe9b32a3deb443a16373a4660ec5fc7092ad1fc01fdcb240d7e57552ff428e2203dc58bc6936ba905b1d76652dfa8d012e9470aa76038778152351e29cd60998975d86a27ab56e9bee1058011921a76b4d88102428b4ce797885d3731334d76b961189b43ab393be9ae1b989f4c0634dc0ff593814c66b84408fb1bc39691ba1c0bfde070fad261fcc073e697f97939ac82b5d950a6a547aa3e9efaaf71c6deea30237359c059668fb4165cf6fb382bfb7dc1ad668b08a322dbedf33ba96350361b81b02b23a72b8d782f672ef65fd8b35e4265a1ab03234a0348c2f3c23ef9c83ece89e7b21a1c2d3bb230ce692755f6ebfbc61070d86bd131026162249d743098cbdb570c9c0f0b91bb6464daeeaffd94935023fad207046813f0a9e514471f5901263bea5a8c23739f9c703ed3e3955a8ef27611dd7fe4d34cded75a02f36c4f3aff82e3f231e3afc93bb6950c0508c193014577b02eac08cc952b92205ba9314b0cf70c221cb6dc3634a89b5e9aad95a40a4430f5e07427ee1e06581fd2f25be38f8664107a6c2d9b3546437efd2f06bd20f88ecc0feda549e911a05bd6de35604bfa74914ffbb43bf302efd37d5005bb6cffa9ae1a5f45926a4a2f4b400d69807e60779fc5df27583b871298bb107f1709db689f2e8bf4d6e7df2bd3a021c40562419ca59d668c4455fb83e2d1261eae173efa9bc024126104c9d4e4a10f82c895a60f4eb2b5028337c4c6b0896f98df1ef4587997de643a7cb5cd47f0909426f89f8027e41eaec6cb5488eeee66d73a175b897ef3696b424c451e63d0ee15aa40e0d85bae2991bb81fc581c8953eac9d8fc327447fa12ecaddadae648750ca7fea7acd4e7bf7777146cd0a3ed1f36a71a3bf3ec2749617e25f857646c14bf4208250ab438821743bcc6e43f4eac2885f94ce044c2aff238afb493078041e73c0d15d9f024bc2ad991319f20a54829aac9a575cfe73993bc2996b2cf4920715920e8205736b8abf7cfc0ce6ee3153858a16c0d3db306864d791f309905cd97b81bdc08b15d53fb7642351e8fe3375d7d96596285424aa20c63e472265a0d47c0dc1e1e71810b644aa618fcd7c88bcbb385cdbe1c33603a7c19c071b663220cf98b1ce5c438fe676c20d33032c774009327334b8410700ad75e523844b37234cd9647227027a779909d47c1a1095269f29e48a33f47652f2040df7c45b7dfcc34e7e60ffa35da6c1af344ff477fe576147032fff552a3d4b443a73b26d48c3c9c3f8be440c777980448684da0768c8f0e737f850865d2e512d7d6851c3cab1fb6ab11b5a03696d2b6384be8267469fdb1517619b6d1d164508192ab8ae1bf30215b63bb8f756a3401e9a74019c7196157d437b8163ac5fc351e56d1deaad355dcc631d28555a6367f1f488f290a54c2b1505aecaa39cfc31f438b95759efe889f9a7b3ac63959483e325d94dda2f823610c4031959274fee84a7b3e98a7004b4f39433e261ed9704f0b20098461d8a89b0c6e0ad2ca9b050e37e7e624fe4568ca15ccec3ca828352fdf84a6b0bd27dec0ec13009f2377c8146c990e283493f48f161a05fbc6060e48cafed1caaa39d7f633186ca2900255f3a67e3bd3bde6bd26e1b98c8b9aa21dbb9c4e4480e9b18cec620b1703c3c547d7684734a55a61d34393239e39b03ac2312d9805409a405936ef1ad55b981c7db123034feaf538a6335f878470de98c6b1977c14cf0026b0752de1098a3fb7e741eac72cfed96e83ed7a349e3c5e54ca01b95da524df3933fa26201d6295d99bd1393402172fea5e83cf11c0c393763b7f947ed3bd4a322992b39824c616125316bd309fe262683ea6be27c72531be6d69c1c06cbec20d5fa1d2af2f923eb14d56e1712b5fe65cab343a42cfb44d1233aca578677086b4ddb75ae4d385e4422040eefeac8147d710578368a00787624a0c4eeba296ee5c26573c8aad2a74cf6eb8ac0cc8679bd7c19ea3202a4becf11a4091ef0ed036b01a83390cb57f7a41356c200cc3903d57c30c40dab7e118f5d1d3c6599ce9793ae73acfe5416ab7cf14d4dbc7f0e930bf80a5fbba8458f0003666ee13b808cbd96c063636e55ccfd690efe7af4823549b10dd4322517f6cef958d1a0de04134a9eabdd4520dee1cbf88e26c442e087103c842796ee6dac63c66e077dfc306bebd42f422fbd5f24ab680dc1a13d03a6ce6348828abc9ea3d4e3b4709c5d8bbc65290fd0db75943aea0da74ceba14fc878957aaeb210349d18dc4e1de3bae473561bc34d141d320f7909a78ebfb9c30aad753bfa92ed7cbf3396bbc858e52f468508c92c3b7b3eaf768705f067699ffe0cae66f63bf449ecffc0d0468e1bd00a953cf3ed5585a24b94bc15bdbd1ee4c8c0909ef1277423d0704b7f374e6543de94df2adabf0f63c33387b38552dd454ef9c6ff10ba482b373216bac2a2700754285116a77b44a282d544cbfda9b86697f4b08a85aa24110bf0646a1e54e038ec13d50b97529ac77bbf7bc79c87a3511886f1c5132c253a54674c8cd9704f94cf76b1f5e82105adc642416e763d8284ff5f8ce27d1b053785aed24ef334239ab6afc59b490bf0b0d12ecc373dcce5eeacfa3b6f454af821cc58f667cdbbbac20b87841c80b9fee4e3f1b5ee92f6a2fe6f2338bf3f2b45b71d65e22ff2b1265364b364714dfcc12accdff1e3ca71d9197cdc8cb1bb83f7911de4748d309ad457f5808591e679e2d9480748b741dfa26a0b7e4a78202b7ab2e309518bc206139ef9298258b4949db97b250f8c01e32969faf93ca5202f7efa0d6ae26d30453056dd674194ce9fd5f1b749b1b7e79c10e322fc4cb9b711db1ab83f762fb771d6a0e3e4ee632efd4d5f487d700f1126569dcc49d074c428940c3e68b1a052fe65fccfbe4aef686e01de0f1456ae713029e70895f7ed78b2ba80788e0f3cb4ba5edf227fce5176c3f9f9b015bb00e4477c2e5dc0c1c48c040c702c98122d2a28e6eb4547edaa3179ce51e987d4a43a7cdaf968609fa996d05c4918914a450697e33a028e4355b19810ba8ce230952398e1b14cdf13516c047d1bd26b450ec153d8533f649a2e2f2ad44204afb6a0d640845712bc213f76f8b33bb00ba2dfa380993628aae68c308769a2c31b3b87930b4709b9620a6c8a6925d79ac10674cb1a9aeda5cd145a2b62df442915827f3122162da581c7592cdaff0e8278ff3769b102d6eca861f1ee66d1cce0804ca865ca36edfc3b178ed7d9efecae234e175c5d0e3b0e1fae1305745f193c41e03b28a8040cbbd987ca1e8a9f810fad60bd671ff61edc08ca38c6c3f4d32f3b1508809917b1035c154c0ee299ab507186c43d2abb650d50f4c81f193a972201e23ceeed46d0a271ed64a749badcaad178e0cace1bcc186399956a3f4693916b141c2b2f8e3c5cb2abdf51a32e8579d20a8d18f99938f79f158e5b355598fb2e5920557b027f00967c7fbe7f13d83b62f96cf78a45d98db6c4ea48f10328043aca5171d7a297006c0ac39222846113f285b4265c7041b98dba0d55cfaad50c5cc072675a9b509f48eb45196386f6d01862ff55c625c260287d69baf27d2387359f76a403d55ff1978e34ad05d893f6af116d76e26c13137e5770492b6650408f91e5362bcab1f8f9b215c9e986ff7fd50ca7861cfdd34f2645a4db6210a6404719f57eb1f87b6a2b280140e64966f6798a1b0136cb5c35cb1e5bd216fb536f690ab7dab4d4125428cc58832103971324bae2ef679d4fa10e4f1ac9f0ae9a2d9d41b0ef1c89035bcd2ec20f406ee98c97b4862fcbea3fd020cab9685650b03e6231f928647178356ba26e3b99b07aa44da618e78cfedf9a8b537fb6b7058dfae1012aef97646ceb5df93fb2948b71f5be0aa505f0051f5cfefb61b10a65474be89ff7999c76089f054fd672fda34dc859045e34cffde5b6dce3f047eeea6f83bd70581d293f0c2b36d8249bfb633c2d5d4ecbb712647eca29c31b2e5a38906de72a6f8c0881c2ccd147bf68449ef9c78cbced67fb97c903478fecc71104a5186f5a11f04090703e18fef962041e6ddcf080d09db395f3fba2c0605853db717fe7cf625c7bdbba5086ea2fea6b141b5816c599253e0569fbd6f0ea0473d2fe687bc399fb0e90736145755086c6a465ff4b4527809e6dd0693cbe25c43618105ebb8f1e32d2926103a7b6f7a239de4b6e7ed8071cc080b76525cdfcdccbd90725437640927469cb9ee9966507948c2da088a0228d06c286ca0173486804b574972293259a26e68f8b924d5233478f835b16824c0083e787384bb26558b4702c240ce2c835f3cde5e83bf9f1a80e886af27d47a57202eb133ac31cec936cf72a600d6eb5ffb4079e864d4f627d7dffea81742fd926150ee531928aa03bbd04378515f4b4364acb5fd1e86f057c557b8ce41c418b778ef5dc786371c794328b9c2170b128f6fb0bc6d556de9544ea666f45f9a48ed89b85d1192a985cdd9f90f38739a17e144717ae0cb13bc6305404ab44e9a38fcdbe94117d19e2169de8c0f7d57daa58e89f9ca02184a7741ad7e4aa08611f254a742b1654475f39f4053e38fd4605b7459990cd0838312c455d7abd5910591d6ab9e6b39daca9d824e458159c51394c8e08eac163ab6dc8e3c5d809948adb8701ebf83f8f8387284146ca3d01532f00f80dcfe3c4533be509e603a18268378185ee0eac3c6e7d7828dda494932c83e9f55515ea9bc31efe2ec89ebdeb1892eb443a08180276304a7178dfde6e17d62724e3bdb830388b4036a9b68fd1519da3c2726ea1483358256bd9ef4f897fef944d234e93f6bd333b136c2d2a465067e93a5965de239338b3af6d7b0dea5f14ce052d851ee223e616caf6360fcbbea68b49159d33cf146612ed799c2a46d80b6eeda51701223b4f79b551dac46e45847c8c7038de335d1e06b2ac20979b9ff33d960000536486462d309053101f40fd40d4cad72fa6682fc998066572765b7579ad56a7b96e4096b71d85dea08635bfb330facfd4618205aa749a11f02f559d6de93dcc300ad09a2b253d2112694377289d3c9614c7e1c4d2a7fd17bb053341c2cf023aa2637794966ac81357f6c61683f74d4d204e5cebeb3c95c64280626877899e7a9e1909a49179834f9d05a832bbb1ef56e90d20d5ee2cfd8e940b086f0884c6866b82e564689851cbe2b004257cfb4de95f316826e0f11c31d29260df928cd2fa648872444a390fbb6bcfa98824f068c1232a4740cb50d41f375f88d530e965e1505c4be5793734a8c38b7b889103c091abf27068fd1f8aff536c09d1b08c427b90b376b656c2d00913d9987e5f390f3d8454161621baf3e779e6e04cca6d0c6fd36e684806b05f222af363fe4508e3cfae7c3aa8fd1a672db27df0e9b8c9dd46ad3ae9465643c41ac7b728878befde02dfd90938932e8f741a6d3f99b65b0d66b1e66be6026fadfa75645b8a695932adc3d6c46fed839eddbce902ac4f6abb845fa04f452e01b644c4ea171fc1fe8811b5fe9172abca45d918c911a56f42159c27f0f096354877c44c296af6ba2f57c3c36312af5025e518f5cd0dde2b35b709fdbb6a3f77929a606155e64ad6167cf1f9a18997d1b007849051f34ea512e8618e3754e109659e215041b2c763587b8709a4d48af06205d57df64d2b811557f71881982a850baf6b6138dd65fed0489a27bb0db581d134685b16d2248c0c21b827fbae8166839dffe0a931ec8421ac8a1f6f963170f83b8d6c92a0b18d99d9ea1e8164971fc7cda18a0ee5db23577ffc397553a26f02b08327af205f788221fca17ae7b6a77a599001c035e5c8848f06ee97ca1c10616186b6243e6658ea8bb419f269f54f3e49b7653fa6bdcda7944325913425ba5e048eda13878843d5a6690e38be04707b57c4e7e51d604ce8c305f50d1048c36d49805607c8c660437bb74708f7afafb77eb8bc8489ce3303796d60e809a63901464160847a4793c3b5fd138d70eb899cde1cded1d0e40a955ca3919a51e329cfd09a2ecc800f5cde60ad986929706642b9506dbcb6792c39bb4437d82d28c60b49147b95f492f4b355fd3eaf0316e06b9d293522c896be71cd5ac14000ede1465ddff383c58559acdd640d5b0ee581b9b744f8bc9d82cd5d5bb1597822e75f184634e381c1e9ca066c34d51b2e4e95cdeb6720eebb0c48a3581e9df8c878a9932918970cde61c4072b794da7d6e8e9ad4da4c2c50467d0a2434b6497a787573b712250d5a6b9650b29cbd7dc8693b8815d96dcad7bc3f7bb997cb66f3e393df9a4e9c4db2fafa5719c3775de563ec5c7f8c57d13ecc7e41c7a9f3da318308a87db9d6d92e573a81858c865027d973b3e162dab339292e64fcdb9cecf2a5d5a4e32afd61e0f7248f48258e3c75148cbfab8fd5559a94bc48cdcc871d37dd6793332531c47b0dda5e3ac34cdff541ebd3e8936854251993bfae7726d4409ce88bf0f22e23eac02cc51696539e93a31d7501b479f8be388014c2b85fd87a014111527a4136d3706b22749cdbae305530eae7d25c7bf730e1de06a3b6bfc7c4e188dd410f2b6bf5e4803a405ec0a281e3c78466fe009c289f6b13e1fb468ee032e8d146bad91a439abdac9e35e7d9659a62af11ce09469c16d7b606b27ac1a8e18db30c47a20f0c13f5a7ffe87d51523134af2388b552f0d5ec79dd330113616433d43ed18f350bb567f95b1ae8a5f9602fdda4ee67d8602ecc21fed004015fa7a5bfa9dc3b0e13e765baf3adaecd3dca501034d7caab051186ef26bf9aa4899167a60fbc5b2b53e2781d5da2daacaae7e708b8ed90274ea3c668056a705cb3990c033f7b647a1ab2fc2a52792987a41983f2ddfe91ad6ace9dc669c857e410087b12af4c49ed36ae8bcfc8281d424dc5e3e0ea7632d59afe2c45309eb2ebfaf7a944ba2313df944dc5e52666dbbea762c226e2d231f47c2c46ffdcd5db90545655e4c89e9e7c5f6504c48a83865303c701eadb8c23c82bbd3df3563bac3a8f83fb9c750c735ea563e46445c07919d4e7dce07d04664cbf4d453157484750d42a0584be5c1c86fb96fb5422c3a5c513feaa4868d2f928311c03afcf7422b53db8bad7569bdec40068e5811db109ca8f764b80bfb7b020803c95f068c415b40a7884ade7e052f2ef8567fdc7984e9a41e3d63da10b79d737f9746d74e53ee0f237305f64995e37ab7f1f217a9f8344ea65c230d259b64d8ee192b1b356cab0f8460bb2b15568145ab3b45779a6b368507d4320b21979ac276efbf1a1c9e9ed629b5953dea361071101d179fc1fb9b3015433a3fe700850410ca4fe918f5d28818765c05ab3073f3ce376425d2a2f200c6e911ccac87e170a309d217c9df46f9942989e5ea2d1abc4a125766051c5f372905877d8779969a9d9cc61af9e054ac7731d78453c6603dfcb4655fb4f68bbd91831c7733cfaedd05f2d5789d33dad0c0d46d4b4bcc057b5bdc2e6eda91b90eb3df2e0867bdb0a5600678cf1b973a3adc5584b67d292a263661a72a5e395c6b8ba98c05de4ccbb387e72d6bd70061b54a80c85962d1e63f4a721ac7016e923a69b38795be7ef3245e47c49c9a1ca9f","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"71751e232cc11be09bc2d3c7be917fb5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
