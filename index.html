<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"400da72ad247edd0e751a436cbaa9ab3bc9ed28e2c4ca5539605c0a729b397277e3306fd962da4aa26da31852931fd18ecaacfde3f83b828126ba6fc347ede6e74e3786c8c28ee530d2219ed3cf6d8c3f518893cbe164a5116fbb7d76f9b2a0b4b5be7e96f05feee88f8535eb54ff3e04b906258e35d621510f2d3d436659848ec99e369c8f03270571fb879fd875fb0bdda82a76c0f2f06c9977b32a8202cfb49db69ad5c396c41ab43b3c3a02749cf7f8a3ba222fd7ffc9f6c29aa9fcbd8d52cd63e425903ce1ae78bab078e95244abb37f954de9b68b50b1b5cec3c55197f74ea1584e467bf7dbfec96cde06467cbb200ddee184e6a142112b81bebc0cbf02a9dfdadfc73bdec926f15e2db58154053dea1bab1d89c64a78da37fab246ee2000adc29501c47b07b1716eeba7d251b8678330dba2c69be30b9b65a4aef02ad38fd433ab5b82d1e23e8cf24e43228f0147caeffdc24607921f75b9a9b0651611dd1f1ba9157cd70e35708bc2fc3108ec99349804ab8c66907741a4ef219f6931420a25db4358371db16722af382e582fd50b7ae8162a09d353eee7a7fc86b37b26ed4a068b7c3d93f32059a6d00b21ce8b67184a42f2a8273ef7d70ca0c2b781e14e49acbdb5d651c359151856eb3352298e3ce5fcaf6a81943b62051d3c3f35156f4cbffd0f8e54a560f5a6c90fcf0c113f07d8e0ad3af9a705c41acc85fc565b7cb191bde0ca4779cdc7283900ffafa4a1799b80a664a7cc38fa476dc7e8d8ddc389de4dfa1891fb423e83729639e5f904c60cd9912d2ba7ecbeb72879fb842f995a8d433958b3861bc1c23f34b6897137c4220cfba20c32e70b9dc4664deffe928bbe3f2691ebcced3091a8a075ccb654a4249014bcbe671e41bb1d06bbfc58a72d3206cd5b55d0ef2f2f138818387e153c2d88853df2bdf87ae564d80b40b504bf024fdd91f151fbb819bce3fa098f9c7e7594d13010da23e16e01331bb1308f96a95dfd26126ce9f4a9f547f788c167e2254c0b6279c12917969c98590c1cc3c153f8189e51e0ac58262b62fed209eac0b4d1641f8baf16926be8af60a9ce4c1543facef295c134120499bfea93129ffe5c6ae4dab4e013daa9cc56c89f654655d285478b22d4a1e3d70cc8ac2046102fd4c2f57ae278be265ddfb6bfc7f61079d1e3013997c4b818bfebfb31a7405477b8b1bdc270c7345ff2c355b5c2c8e06bc010a374fe702a4b4f610960d99c0e112bcb6983e8a1293f4e5bbf3b8e4ccdb1a4dc6277410554eda877e824f2281d5034f09e082a7ac94ba0a5376ae9e9b734109810bb08e75816b59eb3ab5ab4a0b99eca0f4974a30f5d83778c18f0ca1ac728b4de3a47a3060c06f7224f969532659de25df12b83c0c95030d8c1dacf7b25dcc4aa22d1b4031de7141678eabb05f9dd3280ec3ca1cdbd487714983e5c66fee83620e724e0f69ae4951f57185b8ba029f92a351ddcd6c5d5b13e9de72aee863c1bb3981de0da4501647349436f720d52cc740d0f1608c5708e10291b700053e420ee8523cf1fb7aca43489196745a9fae6cc45785de4bbff7ba6198bdbaf94e44d12e0251835a891b374696e9d6628dae286bb050595b346845f9049bfe5366eae645a4b7a7772d7a932642fab0401846abfb2db039ddf690a3d4c2390f146e4d1b0629df7097864479cada509ddd95ca59500caea04325b1e3cedbf56229b99cc3bb9dbf882290ae712f59a05da5a9dfb6d6d6d097ad20766e50983ab200ad1c5cbab8916eb765bbcbd9823d4bbcc3c92dcb356837087828b1c68ee0047d6fa95171c11db89eedc59d7c7cae05f0f95251be477fbfb44b5a4508c8a4430fecca81e7e2319365d78931bd7e3359f625ef7aee1a3782d230759bc62ed4cf28ad8b2f2c68c9dce9375d79e4b97db73f8e001c16cf243df8199de2c681274b00eb73e4e826fb6ea022055abed35f0229e27620e0c9d5d7c9f095aa7f01be3c73b3dc58a1230ef0e5e1b17bdb16ef88724a8c781839453909e8edc6a3b160a419c55bac80c6b62bbb22e610ff990e2381c97542006a4d3293c8ea00d6035b2ed01c769fc22b80aae67a3ff1aa9721433f650dd44c2a68350d329e750aa1a3c62de80ae84dafbe5df2250ceba15c7fe7a66702b4412c49363d99bea072af41c5b66ffe8c8231a02e30c0a0c1d210ea86ac1ed7c95b1e974fc36c50e6df3a79a023a8c354dac3b3c4b5c866290f41fe4559ed254ed36d1bc3c4e5135cae2187445e6eff9530bd12b8e8a0343e92f4b390827f117ff9365015a29c60589af326d46fd0b3df81593e50ebdf704dd12da79eceb32525031398f77e8b4733c90aaefc919ec246016b2925761803291b4b07d6c0ed3e2ec732ec54db0c18d38e7539e55246dae08cd4ecb37a4e189902ee6f9ce3cdf7b71a30a207bb0189c42955c1eaee8562870cb95d949b222ea89d91767109fe48b507d8f0bc979d1a22f62cdd046a27955176955fbb6d310657d8df2283be1607daee3c7a34d6440774d9644864e648253af5d27c121272d4f0d7ee433510286e4056d88cb1d9e8bbe73b074dde178146c14d8c23514b4cfd94cc8568402d4452899c394053a4072fe69c1cb7f3af4300321a8df16acfaacb2eaf4d022652be6288314f87c0e8e595b8850b879c7be416136976235d2c8b190c55456aa707442e324e385ac74ad218a2f3d5be99093d52f1b95d79dc8b8213261fb482ba6969732af65e4b99158cb022bf559bde12dd2939e844920015526748907b253da9334bad601bbf77ba58d67cde406324f57f445d15618aaee3bd18e87d04a9f001a33f4290882707018a0ba0198f6b821c858280542dea39731a5099d2cbe6877ba1ae27fd927eb60d0e306181e442edc7d556239ff9af80b10b8b2bd87c09e302234143db45482affd261dac3f82f816dfb86929b67605276ec32a7b4066124fe08959be5d80e6126cf4fb61562ad4572d460fecda8288b21f07d062bad8c26efd8e28ae0cba817754b3e66226c75a1b5ca5c41e2bb26d7e78b20d318bbcb4bc8ca53d755eb5c60fa098c4fb28a16ca5372fa2a395a3d8baf37250d5fbe60fe44830ad943550231d2f41d6699b326876b7bf024300075d1e6879ba5dc8b82ab780a112af91b801b81cbd28e8931ad4d0fdf2c0048693bdc6a53e259833872ae330bcd0c08ce946455dca6477a4f86034dcc35a19d1c42d352633d2e219bb6d5ca29bbf3c171c9aabb4c199afcb0c1adeaf180b2852687e0c9051270877b2ccb0b8f2a62ed39026ad38ce3584da90b806810a4b085576bdc4a32955da11a41bda8bf3eea596755cd991855f800a11f29477d2aa6f97909373e4cf6cd37e421bb06d2b60b55b05cae363494fc11565aa3424104a6f4008ffebd8723f101a5e9ea84b66801821b312491fba648fff69ef77d692585579b02ce375c95e0d2b316a625c195975d8433bce06d6f25d3272cbc492481e495b0a265ec38d7e9057da55d029ae27b93f81ad65dfdcb525fc9393108030891d36bc95c6705a02f5e9df0186298391373db2846e0995f831572c3e0b91d699e474a6873800d6b42d12bfbd8e4b5c4836d95235f021f25796d8012aa3fff3c64b6ef6cdf87721bda5db0de55eb48b8152bf8a4af240f6837030e3e0da42c81a8de749015af30acf23a74a3ea2841114abe52f4f6babdfe8c7283a444741ebd5376a33bdcc24d481b4f072933117ab0f169c0de8934112bbbf13816ffe2dbba8bf843d508ec204de42afde48cebdafbeee5bccadd7526f65769272682e89765465c0dbb723c1f4d51f353453eb0589dafc7950485ddea5c3fda70753963a3f1a0063f20e18aa9f59c88720ea181cf9ed836c25156650fc80a4cba894e53e1c73ed486cc61323fe78ada84a69505ecb19ca5522ecbf8f4b294645e2c54337e29533b716305e65bb76fa6ada7022279f7dd6752ce99960eb730c40d0f21bde312591626d1c162c28f391cb5146b1126d149e4ad3d5c8a63fa3dc8ed873dd92a2de29e7705695910bd82f6f5c249ceec1ba6d97ca42c5db106dfd42893076aee2f4032b819fb02c477ffeef928194baf136564c0ce9e01a76c8571cc49da5fe48465e7667bf704c95cea49b64529bec235a734e7cdf47023581f78afcdd45539a87bb3ad2402631ee3f13859704033114101acb92fc1760b76350a34b74aaedd163d0fcf81fbfafcf6690a9a27beedf6955df276498a9f1227bb70ab36f745c809aa9112232418bbb1792eb383e8b0e6e2c8ec363e122457f310f3d7265a9bfb6966d91e172183a132d37bf379ee05dd0848f9dc5a4505d72c42c76cb9fcbecd8101da558b75153c170c38e72f217b7dc11eaf6345f6ac256f47c18bf6f8a3fdf26de8c8e71a9c4cdc38d2f887a2903546cfb7e24fb3eee7e6d49657c91c426c69d2136d42a1ae532a12acafef98ea18b26f6a66d3e035c8294c20f2e1ba3df686f1b2e042d24f780117f1c796895884899ef36b9c570ad80df8f62c56237eacd5b900de97b8812bf3219b16dffb8cfdd5c4ce7ee5dda14517985f7b29797ae990120ad3c310083e93e9dabb2a945baab7bc014445a2de02b3db94fa8f44c67bc6b1045f4633439b96b97e3778ebf247309762a315bb67e560d491f7300566d3d8db18915ab4d4a95313177bb026e922f743c37c804745739348cf311913b87374387679e93ce3b524aebc2fa2df76d97b7768fd3024d1f0fbb632813b3f5231a7ccb125aae3a0b0b148949b80357c43191659d0760ff43f7e10d540971b2d279fc23b456a7686d56e58fdaef9baad62a2e03566a170dcae354078dc8cc9902cb6811d65138743b4adc6124f2b4a714a618f60f909df9f1a72e099c3986ab4943a5ec761077181cdfe3d8a73d8dfc4241f433113e963c36a17ec67ae214848fc6252fe70f2733a2130dba4b130a5444190bf4504a52a5c70ab57392f9f11ed72ca6a7b75f6d1563d405124e2aa7d410bc37f11e28ade32afc51c7a6d44aca483123612789fca5ab3a8f2d848d37e68855802e85c0144208a4e84f137488fcc1bda31e1a6fb95ba4e8c402e630ae77b0bf22e34085995fa9910225c62ef64c2fba41f60eae013160fd43f7d0b1cfc224462165231b36eeb48784fb4020d6b3a05d66433f44410ad02d6e9a6145953f4649bdab3bb10296a264654e6c320bd4f8af9608176d83bd0e000b4afb151c9697ff356b5ee53069dfc91b3122ff0414f034642c26f82b8ba65ac0eaddac9472381d0816654a0b5d015d2c720fd9b55d11638436134780afcfcb5aa9f62ddded1f180aaa2c440dceb47ea458d526b938b30c1944d62f09befe4a7c228ad724d2d0f00e59884ac7fc69e0d9644872ad4e4475e762627fda290e50ca87f6ecbbdbdb3bd7020de759efb363b891287de08f02b09a08569b0c8cc34e2b0642ddc342b5b6425c5c6bbbb876088b2a2bae45a3ea7524789343852cc3c5730b7d7023062d11b3e2f0c1bf19386919907c2b4ed91b4c06c141f72253b1c83323b6bb2df04a8ee48c0ee39dbeaaaa940d674f4016c969d25f9a2b19d8b7c742affa3e5139f8f1d4b1394d8a6f4f5e59b77d0ffe6d63eb00ae8bfca42acb58f3149e8f41d26886a85764937988bbd9d5411476039596c61faf7581e166681e23727c471bda1a7653de5c4609e5e48af6bac06851409351d81982b3c86a6320c4803f7aed77b93b2de996f8d48b17b70ef904602b82fb9574e0d9eaa054ffd480dd9a2ab7e8989cb0f240722b375ae95e3b8f38e8cb1b05aa58625531d6f7a5072f3cf066036da811b8d8d61df61bf7877425bc3c43073298f01e945e7de03ecd98599acb3fbf69eec978fceb47e62825b38498be0ba775a92a092f249ee290920ad2cb3977ae2dc80f50fb7f5614890b98fed6a7dd0d67472d20d2a7a0520cbf949ee0eb1d467a518a27dca7dd46c98be4756a31d9c011210bf6058b88ced3b7b98fd10481bff341f01d88647378e643b7ba8fc2d79dc1c50fb34b14d0c04044a6984933ae03bdd0825c80741882d1c41d9a12698a897a498b2a53594dc94f4d02352bb88e5aab9940ee225b8e9477f77912f2664657ded6996d79f12ee4356414513e0d16411e82f002ceebd9015f44b781e16ddbff02ee35a11bbaaf8edfecddf66eecef8a06ae9cb651d4b814886f15fcc07a7281e9835b234f3076819c6331e5cc1d5b6be948f68df730f9e5e366ec164d4b38d819cf7e2534daa4109a2364bf366cfa99907c4037c6f8c7d5f404a5cefb6cfaaa4a3f2cfe288b99a3c1692a7efd7d9f5d94140943173b9332aad1854cdbf08de913bda9d86888421c60f6c2ea77f3aa688268b772bdf2a8f55b60ffffc352a6313fd252ee83d8eac76ffeddd2436e7f9aab3678d0f5ba3c21af82f18c3c45d6ca9ab22d480521b4fd52f1b135d96cba94e03f2244cafaa47ef0a9d632ff515483b4172f61d17e292ed84192a0d344b5d228a23f128fa9e742c0832abdda49fa3d255b6eb0d2f27078326746b334d5392359e178be04a7a787aa4c4d4094eb12563a544d54ca6c05dd88e30c62bcf48808c41d6f50d9028795d64a2a27e7482226c7fc23a9be3ef1139eaabdb7a53b47a9e8b81850157ec206477a992213ca0028c9b67ad56342eb3609931093099b65eace59a5c10bcdc4a35e36c0c6d27aed43896786a78a4a2348115ece00faeaa537940aaf151cb28408b00627de548bd7a08103f9cdef1ccfdc1be480c3793c10fe021bfcd228667634c26c3407b1fcd8acfd29607ea7c948ae2ab089184ce7308bbaa8852d694fdf3d3ee439ee2d41a389329b2064b4bd037e2276fd55ec89802071ce4383a3a3e96e35c4389ffd5dedf5c0b2a5086e906e65e62a5975f891a2b4bc7c010e47f2c8fc4d99e67c2196c469646dbeb37ae76b21071e4cce2dfc37c1ca846cd72afbe9a7641f12bf1f8c49ed2004b1fc1af05b0acac0b28db888e19e4ad5787e685e1fbcf79e6526437553e9023fcdf0f10da6ded35dd4ddb5355fa73f48e57d85f5d7285972ef86efda0fd6073a3cb4de2c0e9b3dcb9115c64f412fdc85ee1f552c45d6fe5eaa240a4153b39d76bae55c7331c1ef047d42db66385b7d7d65bb9605941e71a57b6e534bbf96f76641932da8b2aac71cdf150b4a9c08491ac2104077abe898e3bb647fa715666303d81268df92f728a56b00b241c57e6c3969a961f48b3939f286ef0cb0425f9a221db3eb3d479ae9dcc2f5ec3b467cb759a9547713d8e70dafabcb4db565317ea3b7981c1ab92e139cde68c9eb3c0b3e6da8fade0c5a70cc8339fa35d5b57bd4f4f7e9937058d04a310c951781c739e6f8ce22b8a4f5de2501df1d4225888c19bffeee34f33cbaf5003fe93e62f22d12b8a43b11ed685bc5de1f0542f340812209a5398325e782b8c323b5c22c9804ae4b0eb9639fa96d456625149704a0db91afec103e38d47b86e81b20db28a95272ccfe22eb0349bc9dc41393ca64ce8e9cc1151dfa2c4cbcb016935d5a4b2a6a3ee2ae1776910404248b1e0e5bfb973fc358e45b5417757db6ef2975c2bad5e27de1eebed5a1880a625fbfde3daa2a296de65352287b31664b412ea73397c6402f02f5e14a2b76e60319798d200e2609cba6965a2978c468dcea17f6150a65c702da09fe2da98d681068e0623a1a2103b45db41f4c760c9bb4927ceab1b993748cc4dc195a81175c500b70b33e15ec9c7e89e0f80e61e74cd256ac48eabe792f967947634320886280205b373e73762e93d0a4e46f433e39abf8715f9b1810450aa84b7d3434153992a3422fdadf2cd7fa8ca1cad62a9328c74a5d3136570d94371b0eac7ef481fca6bd6117c9e55c5cf0a442ce5956743c0866236f29aae440db45ee9cdcfe2b6205eba4039c2dd0920bd7517a153e89888fdd7caf071c1be1c98eb7a25b22c9174cc986f79775fc363043ecb4a4d95e572f9d9a43fd887bb55c93b47ae5e80867d5a9a11c3a627fd8d0da670598023dda84768ffbe935a85e08f280b3db2bd5ed5f72d3889a222c9b515b30d2ea6aa47ae2ea19d6d4539e194ff5fc93937f04051187bb5578f88fcebec59a6e60e60b71e440686ca58d6f6de07811d5668cadec402a80b10aac75dc21338e7703bcf51bd74f9ad08fe9236ab9e7758a6e89148b927fe8450389a74beba4172613e8915384b977dfb9aa12c3327a2ac5ce723f848e79bd2d2cd3060364c7395d7c79caad879261d2a144c670d918d3e3616457c225548acd543479916a60b867b2427c08f3e6796b556bee324bb28c06349819eec3fd43b566238a73d8adc702913ea36388ddcb2f3d38b807c09bcf3ddb2116e4e4bfe5ca7976b7762e0c973ffe3623b680e90a920fba12e0b4fda827026731bb39de74c1b1e6d7f79d35b199d2b46b47dfcf51cfe21b0fa18bcbaa2f480739701e2efb8ebd3b9e265b5bc475707f8f339757645392559cce8be8b0c8ebe60a322ae0eccb1e65c27401f67320f0ed244ed6a67c7952d29e5edb7721d1c75d9f55a42bb59f3c9e2457ffcedfe5e052cddba4a40bfbc6385557ff4781f3531baf7c90602f84bc95e7f86800271ff8300cab63cfc5c678338742afd555ee51f98c3f9751f2c729017068764a9e3458f733c9c2e5bff8d3c7b10ca9783a66be7947e04cb8087fa85a68299c75452cfa639ccbd066e0ba164fbbd2d69cc8a3a05f286cfae44d5df61b4b60c4a32a53984024f879dfcaa2031db8a2ef92242f805b606cf7da38cadfe43b1f4a919c132b4826aeea0984380d7ddb5c4d895c1e9a2a5c116273b7dc541ca8442f885c0f21cfa0ca6ead196b61c9ecd9eb5daa81a4f380bf447701a43b3b8faa7955200edcc0e279f3b2b4747f5c1ce1b58d344a9706926cd64ee7c65397219b9848588fff38616b63c9c99ba8339c41dadcb7c3da4176089a18115eebe938f90ce7fb2fe0211e1dfa5e32be286e6b20602183530d372dc1395f21d644c78f8a8eae2e81944be0d53ff72cdead6480d68b80c843bea90750568e29cabec3b382755b4e38c19721ab97a6578e5cc12d6f258ea662991ebe7017eb2400a3fc4356e60b5472a6bff4bb751ad2eea50fd977d4ff9caf3502944634435bec55202bef2fe7fc672079a5df9dda310d278b7675a67a3f5040476bcbe756349cffc4534af06a1ae1bf67e0c2835e4a7bd9d0ab3026b6eaed6c81fc87a0b6c12b662cef6d3f1572f62388485b112d9d3fb488fbdc0cda80f6c4cef3318623f52a6181eb9c26941efef830bd15390b560a284beaa99db7eecb9c34812c01e8d6e0b2d37f05aed56b8907c8d4ddc75879bae880a34f3d1119de4316f1cf255445f52b6f4b5ac31fcdc705b6fcba3b4a745b2a371fd52e1d14ae935532b535526d672934cd9c51e9d1629040ab99d3dc6c0e16e2c65e6430bb51747acf661033a7c2db3b24790e293fc95d294e38e7868cda09c66b10be32a21aaa590a3dab6396abca84c8a73e75321945a416c0a28f4ec88e3c5a7f0a74bce4ea8dbf01945d457ee2396f00189c15b204a1947126750c5fe50dcd4b4b5f9cfde1cbab8cc286e7befaf68ddde9e7cc4a118a48ceb133d5687dd834107552e1b9e328e4b9f1bd84bf12839eea548c1273ef8afebc37608f575ae9a6dab3daf84859430e858280af7ee6928dc147f29c68992bd0c0c796573f92ede14b9c4a6d6b88d7aedd5d719c26b7fdb3caed5214df82f38e70bce84fffe5c979a2749c5ad8054f77e3bbe870ff957011fe19b7dabecae6a7e125a3534e60ff950af4fdaf26cac84b7ec4c71ff888967c55595d97fcb476e4572083a2a4ff4932c2071faa8f9a0674cbd506d0673b1fd3806802488fa0b6b945329537adc130bfb56f489245a08566539a64b4bb9be97cd220f558f61a8e7374ed1f44e5a27196ac5f47796564390c358fc9b436ee0fb330b2e9f50a64d6b9211092d5ef67220e4f61fd7ec8eb1b341dfc1d1d35d1016485d2436a54f032a606fe0fe504ac9838a606d580ee3460bec467f1d3f8ad0258693bafa10df2d4199ad34ec27099b9e940a4fffee027afdec5379b5dccc034eee1fc4f6b36046a4430b9141e21b9b07733cf3334f72cddff5a6cb82087c7395edc4080148034ed6f591dfa184cfa16d2587cfa3513bc47484d599978a2e5045f8fd3d6041df335adee027b572e2a54157ea8d30d0d12081136e8ef484e16f363a04ffaa2028d15aa984554d403d5750c733077d0be2f0c0e0522aabfc8ec296f288747de8b1d8bb4f0d33dab51cbc152597be41d5bfcbbadf2989c49280506b4dfc75dadbb17101dea36c8b7c9b411fd1cc3f0d82f92b5bc5993b4b056edcc08143d26752b27c48d6bac32ba97b30a2d9aaa150b806079280c1482bf06cc6136597027b696013e3e3a843caf7685e9a23e66222d34c236cf60d7c862987e291577026c855b160725dbc9277ac9a2746208adf069586f046df49ca900cf5c3f5c4c8bcbd4f792a09e47fb72f27a602ab0837d91f459ceeb7f22f8b88fd022983a3d5662e67ae394d0c1e2cbd03f0946d9a903b399e3b757a8fc0173b58334f84258092620cea28d49df0a1e06f9c6a94f0926ae235ee333d5d0009bac6540ddf5ff2a928d9f958a56349576f225a3c588f1a880d635dc5ae50fdc7634f256aa44ea20b8a61e70e79ffb576a4b4f26ae7b7cc69a8027a6827e7a9d76456de69cc7e4b7a9befce23b3ace9b7ec9a657e6418de455c198de90697498e22e9034502f5d7a3adf32380f21fdf1e3f16e8cd36d9d81a7db90f59348b97a8c9df05137d180f228d61baf7a19803f6338c9516fd5aed568d4e597d42c68540bde2a03572be55b09b60ab7314135c8f68d14d1d0e21ab61d11ced3ef1b76ddac288f41e0a02705a6a85176ecedbc407f81276fc4d63bda9019090df27e4712db45c8aad29cff53d633b95fa2acc3ed0f5eb0cfb3270b750c4c9a2be48caf7ea1dbe0e49f999dd3ab40a30cee57c8eb25a1dca5e0315a31d0f75e59c1d74fcf5bc295a74893c8423beb1d98c10da48ae5cce4374ae0545e740b14397666485d1b0ed18190caa512c3fc474bdf11114ef62b68202a17dd47e7c29913641b568fd0ab60de9f717e548b2d6f35086a7d7844f788d0eaba56c37b9c7f87176448d98622bce88c5f8a0d44c03f5e1f164bcb45d5db767939dba3d92a5d4f9433508c059ede3fef7db2beb385d12b3705a18409165ecdcb77d7614a30e6d0febd8b0511e9594ddfad204dcf78f0393467ce9312a26ea2d877864f3f6846f189eab26b0d133aed5b9a21bc254cceb95b040a7cddbec6d2e4557bd64428ae54e3996142e6eed5ee2cf500998aeec0619e2c03195b03f147072f2a9866be9f9f718de6d6f9ba52a40231aeadf957105e76d2c434762dbc7a284bcdd195c39829d612318e3747121cdee5de5300531d71c5c6bef2074669f6aa4fafd67138d7c03a908a072d89756f7626b89b5ea482c52e95a71e97c7450446471080a2c1fdadb1064004c201accdf137a950c88197513e1d37730222789b7f92fb95e2c0a182d65fbf9a9ed67e7dafa3f038e58101087bf3b957454f9335d8ebc9ca740d8e57ebea5daac309e93c9c63db1b7701f3610bf3256ddaeef1a37d46e5aeada0edaef50023fb040ed3c0d9fca9ac4ba85be9194de1058081aa1ed3cf701c92307cb45a041dc2b3838f7560087834dfa95c3f95f74b24835a3f192fdc6ce3b72f455c1453c52ce6015eeb90d635e387ee8ebcb4eb572d595536dd798a486768525295e4de2ad834dbab2b55b8c54ed16603e7b6bc3655038a452cee128cd2f22ca65efc4c47e13daf19aef048a49e78f6f0c46b51a74cbc06ca62cee1ac00a6c5a97ae65509b05ca5462b09963a04c421198893e8686e5a11cb2e1eaf61e12243e141c8515940145fa16b10f6c76b6e0de2143274144981c5821dbd0db9ce54f778a58a74d1ee3a90fc4e9681d890713ce6dffe05466f4af77da81f5f6034414b6d2c11b05ea80847ff3d57f170341bf806a47bd242b1a24525dd45cdbc30965b290e2517f7652fbec4cc37479f15fed9c9a002264326c57f24dfc86f8569656c81bda099f0ec83bd13f3ec3f7ac46c924b977e4b63c29a37e39cd5661f1167cc89a96e7fdb940a14d4f98a2e1ddc2ce30a917a5c0808ec55d0eb7940a3c1ac45a603ed1660ec3a71b510165603ed0b7fdd007ba1060b2b1dd743166580489bd05f217cf9e2ca49fda212db98a3391e853999c9798c44e7dc15d02f7d83860e7fe5f663d307404e68905a3b106e30213c3d6e8863963de07f4b87e32d1bdc9348c7551b88c242909f8f04e141dd9b52629c2fb72eded2dbd56222ab0855640d0c53075a1eab997af5498a330f7c16ab5bfc3bd8a0c23c6e960d6436ce6759e3aaf5a4ff5ae9b803e3096f12b38ac676b71d28506dda5a1e083457989cfffc4c3f35b92eed31b609d1c85e8b533cd763aab36c06b797de938d0dbbef2a5f9b60176160de8c1ed407f3dd9d8fd64cafd80a894f3df1952b2a974f0de8f5ae211cd244055cfee6d145408210077c3e54fe97bcd7d974eb9d65c992c0601dad85c8907cd50716ca78ffab4593f7312662495cd97030f87fbee8cb842d6222462701f0f64f8ae06ad10eb4cfb783840bb58615f5a8ae362f6626101e0337bd417006a045822cc1254dd06437d6144081e0a7d97f1d47b518e3135f934078d1da446dd2e991949b05ccf8fd08ab026758f5a2ca1f88e2be9d967c879b62c76b14a6e844dcea2e9edbe7275155c0e2539d924340fb85c13b62393f3442fed1bf54335fc3f381b0aadcf6cbe706afe111a0af8669eba6579f9f3828aba974ac93c6724ef55298c54d812e55d6c700386d40957622c3aef3cd32d67dcf6b64e076cb7d4076ccc55e50b62d7d6f1b52388da277788e6a8e34edd95e67d46ed41b80b4a59bfc7052fc4fed1c78de46e4a749daebc928665ec7e9bf7476837bdc151a768dfe015e6b71c254a9441f51cb2347d7e6e70d90f7c7e90f1769366899094b0d1ff30b90741b222bb71498ad26e738ae4fa4adc63d7752b03e9e4eb303bcd1fb5836d0365cc20d674753e67b25e4baf96eb09c27c433f1b99051c0d64d4168c696af00abd12069eabf174261288ae400dfc388cff21dbf1b4a37db7e499de2a669ee9739234d3833c155e32fa14dc15cbff3fd011d44b21428e14bdba5b6d341f490f747e02d94016be0f683782cfab5a8af1028a0c57761e75d912e632c69d4bfe33c7a17e232eabc88ee599562e0ca375914f3fadec45d63d80759a3edd76b26862b291c39789a1cd757a8ef45470de4f571ea4f1fd71e4f4a0cbafb282aa55223cd35ac971767742900e637c0d88118d0071bc0f6635faac3d3591c54128f43f03dee4d3c536af7e8eb3d080f34b2875375f24d924179b02cf7379c6f8c63cd965a35c2b134f22f2005c35678f93075b1583db7dd3a23b9100bff03e1c6546d8ab337ad2405bde54efbe2cc47aff1ee1479998114c7bad2c27438b03116deae5ac0e0f4253c8faaa0bc6b82e16cb0e896a5d7078632978d4ced3e464a15e1ede6b6fa4ac8b4bdcf4fdded923802f403e02a8f684e2a26c925421e05f1e1f0a66e317d3b5c897940d00f5c8aa833728d868f7ddec151321475e6abe34ece5e9485869f61965bba0c3fcb2cd6c173a2e6aa126fe86838fc2bc1e88fd099e4a0750d86dd87bc6d003d19f97ffbb99ef2abdffc4e16c94f8e9188f78560e53892ad8295f91048bce13292a1568e5765f5fcba82bfb90aae8ad9e86104dec3f0b73801f025b37cb6d02a9eb19355d99d33936bfb398cf9902db9bb0103031b0a3a5eac16dfd47fb4e6e36d54d9f2bae5eb2f4fdb7d7d5bfef990568334450fe613ff3556cb1ce5692b9dd2ba57e3f936d58235bbce696b7927d05d217d3224174497138fba111b88289a698c015e66b0a6d40241be6c63cdc1ed5dc0e64bbd548d0143fc6a3858837878d55730d67b25486b448b59ca20cf95bc8c53793aadd4762f7d475c2cd2ff4237b090206a9d64707f261de2cfe5b51849ba7573ae260ea4b87af69083babc46c4dec5794c0b37dc323fdf4cbb70e232a1bc9ad5152351d57193d8c4116b3ce2b8bac775eb4f675f7aa91af65cbfeaf19eceffad8f28d66db1568ecce66a8fce05032a8a4b70e94546e215395c9874620560c8301157e361e62d3bf43a4c4e122d261a985952373a019faa6c25ce2b37530126f8c353973cef4025fa4d4571b06f7a5bea6408049e2e4f6bf543b60d9f4337fa05c0ad6919093223775b6f0885ad51965e611ccebffbf8df64f3da95bcd8be782aa03df3852fca8d5ea4b6949d010af054648f19ec5f6c34836c6f0ebb9b946ea5c56df18b3e522e2ef1e9aa9d193bcf2cd23ffaf386fe66dd6c8bfaa4a9f3a271a9d65cac1c8a99e4c5f4af63f9c6a7236b24b393b719b6f3ac3909541e718c5ca4b3cd62e3a76b095066e2e0982adf5383f54674d5c1bc6479ccc3c3ab5f916df2bb670391448de823880bc34e5f6f47b1755ddd260e2f0531c2ac76d925e688eea78dfe3715ac94c2404ceb23233581c7fa0545da8554e299d907d2c4a01a7fe244e0cde2b55bb2647edade70d08c6d99cd7387fb2266fb740fe4390e20c7b3b22b77dc2d65878362cd9f4dfd22448eaea0e19a3537b0a296c7ab32bd41618529aab166ef7360a35bab9583fd6d6749c54735bd61721d71274e55ec29434e22a3e3539c8fca7c174d4457a10cab666b756a4e2c046128bb836acd870608af5bbd97f32dbcf1e9ba75b7060d74df47dacfab6f6ee9bd06f7df9706030aeead7aaa4cd87c867de215daff13aeeb23927b4279234a4cf5feca84eeed6bb0dc3f1d1b57ee94e33677dd3c2298cfb9a8ed45cea63e48c375e2cd0aa148108e9891ef950c745217f7e59145975c81c858e9fa9c5b7f10771040087f63cf411ddcf404d31771ba2774c41fb749cbae89175198be7cedf1a8a3d6155504ece69195a14927e221fc47dbeffd70109663dd4ba50d6ab783d8497a519059430b4d0130dff6a37a38055b15f8d882cdc9b2184c5cc82b33e77ec77c7c304979c5497eb27a2abc37fa14ec882f765545a8409094e20bdfdffb885908ad4856a53c5a708cf3f697589dc83d449462313216ff7ee9a5a88d9dd5654116c62e3cb31575991997ba9679906a3bf01252f97cfe32731d12e52b7d905a70dfb223e4155b8cf666908dceb46f98636fd86f7d794585d348723c850cb2999875fbfb4d27cc1a673503487afa6f3e0f779dba2fd1c2ef7191eda6ae7ba773eb44801cbfb3d2c886d8989bb98188205ce7a957243d973cd925e8bcab63306013cb549e90c0ee1e7f2041983e3999fbe42c60ee9526eb64f66200ead60fc526be04f4a1be060df06eb22c0ec2b8e5cd0b4d5c4f0f8270e61b2a66d2130106476d21366fa2112a24bdda7111f0a29e55243ae4117830b4fe7c864cd6bc743875bb11b776b2a38cff56a1e94e3de3e9bb71c406e941479933dd01d7b6a2d39ccb03871c2e1b117a9e578aad2a757d2b0191bf0ff7408fa28827b7dc5865f6e6d5e281cb059749552f78f25dbecb3d83f4be97b9d1c1184b0265af0ff186836b76f51cfc13c9ed9464518f5404513fe7ea778c5e09de4911d40e475792ec3bb07f801702c0f748159f796609f0a45a0e900d1bd84c6df8653ef02efed9515cca060782984bf6c173fd9190c3d9a691233295a26c1053b708dd2ae4a58497433e07bd930a892bfb8868af22806ba1b2db5dcca52763dc5a5f40f55e6f276afe9e1dbc23f90723373772494c26dbda17b1f8047c74a12f3bce93c02ae455d8cafdab4cc99111c1bfc774351d51d105ec088fdd0851beb93133d5bf50c12514fcedb24273b7f4d59b9a039f3e10ce4fc6c4924cbdb074bee8b107bd1db52351fc2774d86dc1d5dc1b82976f9cd5abf6887175326dd018265314600ebb329cca998e09becef97c4383ae31e8bc6c51d48cf4280b798284a35c1889b57c855b1128f2725bb8def6597b37ee79431603b4d90edc293cd31ce5e1376157915080853e2cc4b3fca733d99190c948085efa8e077b6faa9b1380c7860d70dac5f144fdf5a1781cc7fe6ff841da4c28910b88aa3ef176b96d04285eb383d5995c4ee5b4294acee5da4e91c8facc3348cf587da44d13e9380954c9662fa883ba8197fa49cf0cb8ed1c7f2b3b399a42ba2d941f697209d6a934126d086f5b64ba73c9f693555a851e1604749f26c3b81e82cbf754846228e8732058ab6003e2939bdd6f465f204aaabc0f7b5208d20ead221992f9495655571350f153943e4422c21926a52d9091705d3ad1198d4c535f532b3a20dfdd341f3293d8b2643ac8a5fa479e937decf9c389131fcc1ee41378c0a0307762aa64c390949a1e809d7b68605cb58c714f93e7e74a0202f1a73cbdb372daded7c628f37df97b5812f2e4c2d1c944a99fa6b9aa29dd2bb2e2eb109aff6ed1fff25bf94822ab1b4cbe8bd198c9a859cbef5406d5bd18ed3c33dc0987737cde29f3a51212021156836851bcc8728ed25a3733b24e762cc36c504183c850d7c4a7380bb06c3a1303b38e7484456558f8dd65b7d17385dc1f8fef99d9ac083e49af309510c8a11adcdaf5f8f460dde66c546557e50517af911bc4180f91ba70e6731044385a0be9bfbe52bbcd72a6bc183c044cc22464929b9a5da4de0a032a914118c2aab37e87e8bc0a10737b668f5b6fd68e073eb48ae11f1cc26fc7a16fc01f3ad05f4fbfedb1e2bf2e2bebffbf474fd6bee08dfd3a4fdbd5a5b02695b75831da3dd4686624b1db748dcea906064a26f24afedddc9c70a28bf010d266d4d23ec85897a6215ed3b2778ca05810b8927a827f4f2c031e43e755b6f1628abd9468e9957ab6007f5e22d76aa5925fc46d81b4b79a03aa9c4e1e831cb65bcef52b3da1460cb506b2b7c2f9df90e08ba270fb5980a91a6730ff6a29b56fdec9b79291f36381ac93bc61219e54d808b9f5b7150ddd7075e6fa57a09109c4b78c1208d7f83d9626e62925a282fc003c09ce82283b47ec851c3478f1c7e12dbb4af0f4fbbb51f1146033fb42e7fd8023e19fe05c51976d6165023e3d425248d87b4444bd2b0c1b58cf59914d64140cecc5259b052a6462e1cb526797fc65313b1a9f566d8ad2b9734334ce98a6b34f7d1f1ab35abf516e9c6eb91e4e61f02e4998e0539be28ebd4910b570edcccdf1f9f8007b950453a45efdf71a004e0d46199926d87a11e222c54db81c2fa89e52b8274b85a77bb5e57194db9b4a6519abc0d22ce9da1f27e2c2c91217681fe3851bea773cffc9a81e17e5e3e26d7219aad954cf4a776841e1e3f1aa1ed63699c7a66f02f47c4cd51279bfc24b9677d0668db50bb3622754dc2cc3bb3f3d762a7fb6506fe3b886b7bb7a8626f53525d01c59d157e6e48ea9fbed5f669a84beacc99ad1a90f36b91492198afcae5343495c8d93e21dc1a1e86b6dda1dabafe5dbabcc7383ea0271f7b6c15915e7614f05a7f20d09626a57999e6a2359b2f5bd9e565611473f588ae5ac0f271c8649de0bc5db5921800e9eab4821daf18c03722952c850943378eb00915105f0e7d0aa5dbfbb09f3860dc94bc428582848f53c5e7e6a6546c677e7310f0b01a54f5c7de0573b109eb0bbaa1c1378494c3bf99baaadf8c6f11c920b69ae2afe2f99b53d44f73bcdb72fa5f300cfc25b2824e50c3480d26862cdfe515ffad2de2882a410aa16a2e63e746f8884aa8f46155aa59289c318e44abe79e2a9a3ba36800a5654accd3f73bfaca35bea031a89187d62511964ed5c479d316986a72316ae33e15156717750de3113950d391b0bbf5704b5b96dcc3b8f0cc18e57b2ae523fbf16c363f4e789060ed3bf99db1048a95f27f570f0b300915b3f208b08db84470f3b44844b3dde3af02c40c1d01f3a21888fbfef3a89dbd292571307888f8a35bc74f0e4e90743e6092b1a7e28c970d638443410c5e4065697fd3ba79a6cc0d246c3ef294a035aa401d51df13f1d352af8eae161ab22781a8c0e65bb6368bb542c427a0cdccf8f66497f303b40e16e707a3324e5a7937a1503013cc821ceaf621a0d05e6d4576fb33d410af885f6ab5f3054c15d87851d2ac1bbe72a5a5e738893d791edd6d10623d867b88070de2ac63f754a186c1e13757d71ccbbc348fb3d5b9c4801fd0f4c8022429b7384efff9f7d4c94ae6818a8d170020a9d0e12c9d62b9fc6145b58b60455503b7d744e25bbef520c736d10f286c0e6a04e6ed2945366c4ba60c9603d6b069900b11835c74c2e6372d66a2e00e103edb7c08904c204ec84d2a7b6a17d81ad3bea283edb900a6630801a267eeb7653eeae818b1fadf2ae8f45be5f3cd8b6d51aef49aeaeba3a5d79fddf2938aa3a36878c50aefc9786a58dc6f8a9cc64fda8f40fa8233f01394ed7bbc813c37f94f55a9dd56b668724cd4f60be29dce3d39c37cb0255be6ed0ace31c7c5bcd0016291b4543849744b7e72852d4e9e7b00294e158f78e9e4299bf2d5960a387dadc5aab8ed28e41b7c2a7251ed36570cccac7d0d9476bfece56ef0a026575195bf0f26a039a76f6a304fba574f5e956f7a1a538ea1bdfe66f9105e2daa2123f48a22fca70480b7915a7e609eb66821c98ce508076a8363b6e5895deca52cb6b1f4049f51f37e1f031d76f8a6f5f87cde9a33eddea503cd44ee741f427cd9b6eeef5468b6e7aa91e2a6fdbd877f9a08755b4d890f0138e58f10a250a2d54995f8c7155cb156cd2db78cdefb14dfb51d3d887fe75528034b0df471d833126ac7eacf0d04cb70bc0eac713850575a0e99b8471b9337237eef099198d811e3aa41e0d910ae8d7794f3767da2d1e5188bdd161d6085a7520d1af61ae50ce7450db2a7cb86bef95dddf8055c64849579f25938335f28d8825f4e59dcc3710294a191981b3b7a597c4e42c7da8ac149c3566cf487292d965931f0137478f5e4c0ebe9bfd85a370a9e96011ee531bd624758bbe79bacfe9fa21d64274985824db47862739911a818321dea9d55eba11ee12e9c9756cbc559c6977acdbbf9b1c77b79331fcfacd2bf4f3ab223b313850ca95edbde06a735bd1375a20c6acae43397521b1b4bb95c68b380d1144e3b4d79baa9064493c42a7fb262c171fad8e5c9ce5274fcdf5062d9664d371b6233e9dd889568247d3baee518dd6a5b7cc17f291cbc2b1af7857e8de8869c1f7b702760942f172b9cc6b686b9ea5ada187e258a189aa68e842c101d411bee7450bae12882b4cca4eae0f9665506f3375f9b1c767392d0e82b8cd7becb31d65d8d6570ec8e2aa62a0caa9de8693a31dcf269f9f0dee5bc84591412db2b3b729cc9f79aab680b0d0b955807c201ce05892ffa15f8929b9064a88e8925bb8e5ff281934450977afa8f249be3bd83f40545d45dcea44eeda4112eb2fea07c7b67ce7b7196b673df85a020fa634150c189133ba03efcf48c178ac5f2b5586b40b2473f88ddd310566c839f00d84902a293a2fba248b146ca405cae2a96689e0ea41d2bb5582500d99c12ab536223e107bb0d4793f99753406813e2f84705ee38952b827e108bc8980fd3e3b75ce47e54a0eb48566d6e80aaa126cdba82b769a4926f80af90a203cfbc7321802d585f375c8dd7ea467a043e1e4670cc318dadd3972b6e029a9f1ad01ae668132441203122d946027470fcb2bdb0baf6402b74127861e81dbadf75121893158ca53398b83d43e8131f8f19c508173e015f170ce5fbd6dcb616a72ee812ccd65985a0747f5fb31d9c57648e6d188da10e7e5ba183f0d8ddc8f72f44e513540a7fd55073ebff148e00ed1d4100717e0e3ce23d6ac01b89ac20d8abd569f4f82fb12f9693d8be280af12ed46d37b99786181649ead3c81fc292335fe80d5284d3c6ad45fffaf986c1019ee0a462626ab658cd9aa28bfd8d5ab6fea1199557c6becc4490a44db1a91b524df5cd4b54587ddb8610f1b59f170a7471a7cb860a8257c5ade653a23319826f278f5b47dacfffedfad26744f8eda7b39d211b2e526b539a6e14da3b373e104325131fb6c698b9c9610b294775ac0fe119772bfe9de04721f860ac5996c944f754382fab4cddd7cf390d9501721390cd64e7666fc0ab6c6cc3a02568c8488a1d4db514939752b73bcf4f4225e7507b83bf838ee196dcc110714b8b4c1239c5b3220a9fa713b2f4735921189f3046caf1d8d120c21412a6c8144219fed1b4ec37c3a8561028f5624dd9de0f553851d7301ede1af16f31b015879d7f3426e527c1e41674e415669d21311ea7f2df029f3fb2c8944f3a4b4fe14b4e0dda8538887f4c11bbc8632cb8080d487363d4a62800a180a173af1fcf22186dbe0a4269d08968385804caee4727e90a3dbaf3c132288a859ebee3ebae696e3b51134d47d7a3ac404c74312c799b8347cfab3722bd09348d8be7a06e45c43fcae8f65e82fbb8bfaf0658f9a8b60c23cd3c9b9aa177b59e27129d056018ba02d4081fcf141b4c49ee4d7959879e603057f4e42892f566623ed0f9e178623e46a5743671459346e2af2b16585e579b305ac786372b94739281a2d4a8a3a5c32a3a72117670d3760250a1a5a18acf934e580b8cbd7b0cce9f04de37a4d273b7b89e4970aa0731e0de9c871e370ec6db1e10294792987f45519a9c5df3ed184df620c44c3d5f523cdbf1e7db6b94bf7a6676eb07c52650caff7638b927a3a5e1dd9a7e06fd6c110d0db7d390fb211b2c3ce8708bf05c7f080caeb20c072aa93d43","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"71751e232cc11be09bc2d3c7be917fb5"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
